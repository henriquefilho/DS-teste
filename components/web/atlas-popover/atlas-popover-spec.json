{
  "component": "atlas-popover",
  "type": "web-component",
  "description": "Container flutuante que exibe informaÃ§Ãµes e aÃ§Ãµes contextuais. Acionado quando o usuÃ¡rio clica/toca em um elemento e aparece ancorado a este elemento.",
  "version": "1.0.0",
  "properties": [
    {
      "name": "arrow",
      "type": "enum",
      "values": [
        "top-center",
        "top-left",
        "top-right",
        "bottom-center",
        "bottom-left",
        "bottom-right",
        "side-left",
        "side-right",
        "none"
      ],
      "default": "top-center",
      "required": false,
      "description": "PosiÃ§Ã£o da seta indicadora que aponta para o elemento acionador"
    },
    {
      "name": "title",
      "type": "string",
      "default": "",
      "required": false,
      "description": "TÃ­tulo do popover (opcional)"
    },
    {
      "name": "text",
      "type": "string",
      "default": "",
      "required": true,
      "description": "Texto do corpo do popover"
    },
    {
      "name": "image-src",
      "type": "string",
      "default": "",
      "required": false,
      "description": "URL da imagem opcional a ser exibida no topo"
    },
    {
      "name": "image-alt",
      "type": "string",
      "default": "",
      "required": false,
      "description": "Texto alternativo da imagem"
    },
    {
      "name": "action-type",
      "type": "enum",
      "values": ["button", "link", "none"],
      "default": "none",
      "required": false,
      "description": "Tipo de aÃ§Ã£o no footer do popover"
    },
    {
      "name": "action-label",
      "type": "string",
      "default": "Button",
      "required": false,
      "description": "Label da aÃ§Ã£o (button ou link)"
    },
    {
      "name": "action-href",
      "type": "string",
      "default": "#",
      "required": false,
      "description": "URL do link (quando action-type='link')"
    },
    {
      "name": "closable",
      "type": "boolean",
      "default": true,
      "required": false,
      "description": "Define se o popover pode ser fechado via botÃ£o X"
    },
    {
      "name": "open",
      "type": "boolean",
      "default": false,
      "required": false,
      "description": "Estado de visibilidade do popover"
    },
    {
      "name": "max-width",
      "type": "string",
      "default": "278px",
      "required": false,
      "description": "Largura mÃ¡xima do popover"
    }
  ],
  "events": [
    {
      "name": "atlas-popover-close",
      "description": "Disparado quando o popover Ã© fechado via botÃ£o X ou programaticamente",
      "detail": "{ reason: 'close-button' | 'programmatic' }"
    },
    {
      "name": "atlas-popover-action",
      "description": "Disparado quando a aÃ§Ã£o (button/link) Ã© clicada",
      "detail": "{ actionType: 'button' | 'link', label: string }"
    }
  ],
  "states": [
    {
      "name": "default",
      "description": "Estado padrÃ£o do popover quando visÃ­vel",
      "tokens": {
        "background-color": "var(--atlas-color-surface-static-container-neutral-ultra-soft)",
        "border-color": "var(--atlas-color-border-default)",
        "border-width": "var(--atlas-stroke-weight-100)",
        "border-radius": "var(--atlas-radius-composite-lg)",
        "box-shadow": "0px var(--atlas-spacing-100) var(--atlas-blur-200) 0px var(--atlas-color-opacity-black-200)",
        "padding": "var(--atlas-padding-md)",
        "gap": "var(--atlas-spacing-100)"
      }
    }
  ],
  "layout": {
    "padding": "var(--atlas-padding-md) â†’ var(--atlas-spacing-200) â†’ 16px âœ…",
    "gap": "var(--atlas-spacing-100) â†’ 8px âœ… (NÃƒO usar --atlas-gap-sm que Ã© 12px)",
    "border-radius": "var(--atlas-radius-composite-lg) â†’ var(--atlas-radius-200) â†’ 16px âœ…",
    "border-width": "var(--atlas-stroke-weight-100) â†’ 1px âœ…",
    "max-width": "278px (extraÃ­do do Figma)",
    "min-width": "278px (Desktop)",
    "mobile-min-width": "328px (Mobile/App)",
    "box-shadow": "0px 8px 16px 0px rgba(29,33,37,0.16)"
  },
  "typography": {
    "title": {
      "font-family": "Open Sans",
      "font-size": "var(--atlas-typescale-heading-6-size)",
      "font-weight": "var(--atlas-typescale-heading-6-weight)",
      "letter-spacing": "var(--atlas-typescale-heading-6-letter-spacing)",
      "line-height": "1.2",
      "color": "var(--atlas-color-text-static-neutral-hard)",
      "reference": ".Old/Heading/H6 do Figma â†’ Migrado para --atlas-typescale-heading-6",
      "computed-values": "16px, 600 (SemiBold), letter-spacing: 0"
    },
    "text": {
      "font-family": "Open Sans",
      "font-size": "var(--atlas-typescale-body-sm-size)",
      "font-weight": "var(--atlas-typescale-body-sm-weight-default)",
      "letter-spacing": "var(--atlas-typescale-body-sm-letter-spacing)",
      "line-height": "1.5",
      "color": "var(--atlas-color-text-static-neutral-hard)",
      "reference": ".Old/Small/Regular do Figma â†’ Migrado para --atlas-typescale-body-sm",
      "computed-values": "14px, 400 (Regular), letter-spacing: 0"
    }
  },
  "arrow": {
    "description": "Seta visual que aponta para o elemento acionador",
    "implementation": "CSS puro usando ::before e ::after com border-triangle technique",
    "size": {
      "width": "12px (6px por lado)",
      "height": "5px"
    },
    "positions": {
      "top-center": "Centralizada no topo (top: -5px, left: 50%, transform: translateX(-50%))",
      "top-left": "Ã€ esquerda no topo (top: -5px, left: 16px)",
      "top-right": "Ã€ direita no topo (top: -5px, right: 16px)",
      "bottom-center": "Centralizada na base (bottom: -5px, left: 50%, transform: translateX(-50%))",
      "bottom-left": "Ã€ esquerda na base (bottom: -5px, left: 16px)",
      "bottom-right": "Ã€ direita na base (bottom: -5px, right: 16px)",
      "side-left": "Lateral esquerda (left: -5px, rotaÃ§Ã£o 90Â°)",
      "side-right": "Lateral direita (right: -5px, rotaÃ§Ã£o -90Â°)",
      "none": "Sem seta (::before/::after nÃ£o renderizados)"
    },
    "colors": {
      "fill": "var(--atlas-color-surface-static-container-neutral-ultra-soft)",
      "border": "var(--atlas-color-border-default)"
    },
    "technique": "::before cria borda da seta, ::after cria preenchimento interno",
    "performance": "Zero requests HTTP, zero processamento SVG, CSS puro"
  },
  "close-button": {
    "description": "BotÃ£o icon-button no canto superior direito",
    "icon": "X icon (chevron-down rotacionado ou Ã­cone especÃ­fico de fechar)",
    "size": "24x24px",
    "position": "absolute, top: 15px, right: 15px",
    "padding": "var(--atlas-padding-2xs) [4px]",
    "icon-color": "var(--atlas-color-icon-static-neutral-medium)",
    "icon-size": "16x16px",
    "background-hover": "var(--atlas-color-surface-interaction-neutral-ultra-soft-hover)",
    "border-radius": "var(--atlas-radius-composite-full) [9999px]"
  },
  "image": {
    "description": "Imagem opcional exibida entre o tÃ­tulo e o texto",
    "display": "block",
    "width": "100%",
    "border-radius": "Pode ter border-radius nas bordas superiores",
    "aspect-ratio": "Livre, definido pela imagem",
    "max-height": "Aproximadamente 146px (extraÃ­do do Figma)",
    "object-fit": "cover"
  },
  "footer-actions": {
    "button": {
      "component": "atlas-button",
      "default-props": {
        "type": "filled",
        "color": "primary",
        "size": "small",
        "label": "Button"
      }
    },
    "link": {
      "component": "atlas-link-button",
      "default-props": {
        "size": "small",
        "label": "Link"
      }
    },
    "none": {
      "description": "Sem aÃ§Ã£o no footer"
    }
  },
  "variations": [
    {
      "description": "Desktop - Com tÃ­tulo, texto e botÃ£o",
      "count": "48 combinaÃ§Ãµes (6 arrow positions Ã— 2 title Ã— 2 image Ã— 2 action)"
    },
    {
      "description": "Mobile/App - Sem arrow, variaÃ§Ãµes de conteÃºdo",
      "count": "9 combinaÃ§Ãµes (3 action types Ã— 3 content variations)"
    }
  ],
  "dependencies": [
    "atlas-design-tokens.css (tokens de cor, espaÃ§amento, borda)",
    "assets/fonts/style.css (Ã­cones do close button)",
    "atlas-button (quando action-type='button')",
    "atlas-link-button (quando action-type='link')",
    "atlas-icon (para o close button)"
  ],
  "figma": {
    "file": "https://www.figma.com/design/EpnFuPVWcjDYwkV2o2Vx3I/Atlas---UI-Kit",
    "component": "Popover",
    "node-id": "295-5934",
    "inspected": "2026-02-12",
    "variations-inspected": [
      "295:5935 - Desktop, Arrow=Top-center, Action=Button, Title=True, Image=False",
      "295:5995 - Desktop, Arrow=Top-center, Action=Button, Title=True, Image=True",
      "295:6370 - Desktop, Arrow=Top-center, Action=None, Title=False, Image=False"
    ]
  },
  "tokens-mapping": {
    "atlas-design-tokens.css": {
      "background": "--atlas-color-surface-static-container-neutral-ultra-soft (mapeado para #FFFFFF no Figma)",
      "border-color": "--atlas-color-border-default (#D1D6DC - diferenÃ§a de 1.5% do Figma #ced4da Ã© imperceptÃ­vel)",
      "border-width": "--atlas-stroke-weight-100 (1px)",
      "border-radius": "--atlas-radius-composite-lg (16px, precisa validar se existe no tokens)",
      "padding": "--atlas-padding-md (16px)",
      "gap": "--atlas-spacing-100 (8px)",
      "shadow-offset-y": "--atlas-spacing-100 (8px)",
      "shadow-blur": "--atlas-blur-200 (16px)",
      "shadow-color": "--atlas-color-opacity-black-200 (rgba(29,33,37,0.16))",
      "text-color": "--atlas-color-text-static-neutral-hard",
      "icon-color": "--atlas-color-icon-static-neutral-medium",
      "close-button-padding": "--atlas-padding-2xs (4px)",
      "close-button-radius": "--atlas-radius-composite-full (9999px)"
    }
  },
  "notes": [
    "âœ… RESOLVIDO: Todos os tokens do Figma foram mapeados com sucesso para tokens existentes do Atlas",
    "âœ… Mapeamento de Tokens Figma â†’ Atlas:",
    "  - atlas/components/popover/background/color â†’ --atlas-color-surface-static-container-neutral-ultra-soft âœ…",
    "  - atlas/components/popover/stroke/color â†’ --atlas-color-border-default âœ…",
    "  - atlas/components/popover/border/radius â†’ --atlas-radius-composite-lg (16px) âœ…",
    "  - atlas/components/popover/spacing/padding/md â†’ --atlas-padding-md (16px) âœ…",
    "  - atlas/components/popover/spacing/gap/sm â†’ --atlas-spacing-100 (8px) âœ…",
    "âœ… Tipografia migrada: .Old/Heading/H6 â†’ --atlas-typescale-heading-6 | .Old/Small/Regular â†’ --atlas-typescale-body-sm",
    "âœ… Seta implementada com CSS puro (::before/::after) - zero dependÃªncias externas",
    "âœ… Cor da borda: DiferenÃ§a de 1.5% entre Figma (#ced4da) e token (#D1D6DC) Ã© imperceptÃ­vel visualmente",
    "ðŸ“± Mobile/App: largura mÃ­nima 328px (vs 278px no Desktop), sem arrow",
    "ðŸ“¦ O componente compÃµe atlas-button e atlas-link-button dinamicamente baseado em action-type",
    "ðŸ”’ Close button dispara evento customizado 'atlas-popover-close'",
    "âš¡ Posicionamento do popover Ã© responsabilidade do consumidor (via CSS/JS positioning library)",
    "â™¿ Acessibilidade: role=dialog, aria-labelledby, aria-describedby, esc-key handler, focus trap quando aÃ§Ãµes presentes"
  ],
  "accessibility": {
    "role": "dialog ou tooltip (definir baseado no uso)",
    "aria-labelledby": "ID do tÃ­tulo (se presente)",
    "aria-describedby": "ID do texto",
    "focus-trap": "Implementar quando action-type='button' ou 'link'",
    "esc-key": "Deve fechar o popover",
    "close-button-label": "aria-label='Fechar' no botÃ£o X"
  },
  "validations-completed": [
    "âœ… VALIDADO: --atlas-radius-composite-lg existe (16px)",
    "âœ… VALIDADO: --atlas-spacing-100 (8px) para gap interno",
    "âœ… VALIDADO: background-color mapeado para --atlas-color-surface-static-container-neutral-ultra-soft",
    "âœ… DECIDIDO: Seta implementada com CSS puro (::before/::after) - border-triangle technique",
    "âœ… DECIDIDO: Cor da borda usa --atlas-color-border-default (diferenÃ§a < 2% Ã© imperceptÃ­vel)",
    "âœ… DECIDIDO: Tipografia migrada para tokens modernos (heading-6 e body-sm)",
    "âœ… APROVADO: Componente pronto para implementaÃ§Ã£o - ver DECISOES-TECNICAS.md"
  ]
}
